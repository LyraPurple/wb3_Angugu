<!-- https://angular.io/guide/forms#add-powers-with-ngfor -->

<div class="container mt-5">
    <div class="row">
      <div class="col-6 offset-3">
          <!-- #pizzaForm : Quand on commence par #, on créé une variable DANS le template. -->
        <form #pizzaForm="ngForm" action="" (submit)="create()">
          <div class="form-group">
            <label for="name">Nom</label>
            <!-- https://angular.io/guide/forms#track-control-state-and-validity-with-ngmodel -->
            <input #name="ngModel" [(ngModel)]="pizza.name" type="text" name="name" id="name" class="form-control" [class.is-invalid]="!name.valid && name.touched" [class.is-valid]="name.valid" required minlength="4">
</div>
          <div class="form-group">
            <label for="price">Prix</label>
            <input #price="ngModel" [(ngModel)]="pizza.price" type="number" name="price" id="price" class="form-control" [class.is-invalid]="!price.valid && price.touched" [class.is-valid]="price.valid" required>
          </div>
          <div class="form-group">
            <label for="image">Image</label>
            <!-- Pour lier l'option à l'objet, on met le ngModel dans le select -->
            <select [(ngModel)]="pizza.image" name="image" id="image" class="form-control">
              <option *ngFor="let image of images" [value]="image">{{ image }}</option>
            </select>
          </div>
  
          <button [disabled]="!pizzaForm.valid" class="btn btn-primary btn-block">Ajouter</button>
        </form>
      </div>
    </div>
  </div>